<div class="buttons-container">
  <button *ngIf="user$ | async" type="button" mat-raised-button color="warn" class="logout-button"
    (click)="onLogoutClick()" matTooltip="Click to logout" attr.aria-label="A button for logging out">
    Logout
  </button>

  <button *ngIf="(user$ | async) == (false || null || undefined)" type="button" mat-raised-button color="primary"
    class="login-button" (click)="onLoginClick()" matTooltip="Click to login" attr.aria-label="A button for logging in">
    Login
  </button>
  <div *ngIf="(user$ | async) == (false || null || undefined)">
    <p>
      Please read more about <a href="https://www.agilicus.com/about-multi-factor-authentication/?utm_campaign=mfa-demo&utm_medium=demo&utm_source=mfa-demo">multi-factor
        authentication</a>.
    </p>
    <p>
      If you would like to try this demo and provide some feedback, please <a href="https://www.agilicus.com/multi-factor-authentication-preview?utm_campaign=mfa-demo&utm_medium=demo">see the
        instructions</a>
    </p>
  </div>

</div>

<div class="app-container" *ngIf="user$ | async as user">
<h2>Survey</h2>
<p>
  <b>Thank</b> you for trying this demonstration. We would appreciate any feedback, either emailed to mfa@agilicus.com, or,
  please fill in this <a href="https://forms.gle/dkoriUNA39FwirVG7">short survey.</a>
  </p>

  <h2>Decoded Information</h2>

  <form class="user-form">
    <mat-form-field class="user-form-full-width">
      <input matInput [readonly]="true" placeholder="First Name" value="{{ user.first_name }}" />
    </mat-form-field>

    <mat-form-field class="user-form-full-width">
      <input matInput [readonly]="true" placeholder="Last Name" value="{{ user.last_name }}" />
    </mat-form-field>

    <mat-form-field class="user-form-full-width">
      <input matInput [readonly]="true" placeholder="ID Provider" value="{{ user.provider }}" />
    </mat-form-field>

    <mat-form-field class="user-form-full-width">
      <input matInput [readonly]="true" placeholder="Email" value="{{ user.email }}" />
    </mat-form-field>

    <mat-form-field class="user-form-full-width">
      <input matInput [readonly]="true" placeholder="User ID" value="{{ user.id }}" />
    </mat-form-field>
  </form>

  <h2>User Roles</h2>

  <p>
    {{ getUserRoles(user.roles) }}
  </p>

  <h2>Raw User Record</h2>
  <p>
    {{ getUser(user) }}
  </p>
  <h2>Raw Access Token</h2>
  <p>This should be placed on all requests to your backend service.</p>
  <p>
    {{ getAccessToken() }}
  </p>

  <h2>Raw ID Token</h2>
  <p>Generally this is never used.</p>
  <p>
    {{ getIdToken() }}
  </p>

</div>